<!DOCTYPE html>
<html>
	<head>
		<title>Query Engine admin UI</title>
		<link href="https://unpkg.com/graphiql/graphiql.min.css" rel="stylesheet" />
	</head>
	<body style="margin: 0">
		<div id="graphiql" style="height: 100vh"></div>
		<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
		<script
			crossorigin
			src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
		></script>
		<script crossorigin src="https://unpkg.com/graphiql/graphiql.min.js"></script>
		<script>
			const graphQLFetcher = graphQLParams =>
			  fetch("{{ .graphQLPath }}", {
			    method: 'POST',
			    headers: { 'Content-Type': 'application/json' },
			    body: JSON.stringify(graphQLParams),
			  }).then(response => response.json());
				  
			ReactDOM.render(
			  React.createElement(GraphiQL, {
			    fetcher: graphQLFetcher,
			    defaultQuery: "",
			    //onEditQuery: newQuery => console.log('Query edited:', newQuery),
			  }),
			  document.getElementById('graphiql')
			);
		</script>
	</body>
</html>
